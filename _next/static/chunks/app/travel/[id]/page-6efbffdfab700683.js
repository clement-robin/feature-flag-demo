(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[343],{191:(e,t,s)=>{"use strict";s.d(t,{default:()=>m});var r=s(5155),l=s(2115);function i(e){let{travel:t}=e,s=t.image.startsWith("http")?t.image:"https://clement-robin.github.io/feature-flag-demo".concat(t.image);return(0,r.jsxs)("div",{className:"relative w-full h-96 rounded-lg overflow-hidden",children:[(0,r.jsx)("img",{src:s,alt:t.name||"Travel image",style:{width:"100%",height:"100%",objectFit:"cover"},className:"rounded-lg"}),(0,r.jsx)("div",{className:"absolute top-4 right-4 bg-blue-600 text-white px-3 py-2 rounded-md text-sm font-semibold",children:t.category}),t.originalPrice&&(0,r.jsx)("div",{className:"absolute top-4 left-4 bg-red-500 text-white px-3 py-2 rounded-md text-sm font-semibold",children:"PROMOTION"})]})}function a(e){let{name:t}=e;return(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t})}function n(e){let{description:t}=e;return(0,r.jsx)("p",{className:"text-gray-700 leading-relaxed",children:t})}function d(e){let{price:t,originalPrice:s}=e;return(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[s&&(0,r.jsxs)("span",{className:"text-lg text-gray-500 line-through",children:[s,"€"]}),(0,r.jsxs)("span",{className:"text-2xl font-bold text-blue-600",children:[t,"€"]}),s&&(0,r.jsxs)("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded-md text-sm font-semibold",children:["\xc9conomisez ",s-t,"€"]})]})}function o(e){let{dates:t,selectedDate:s,onDateSelect:l}=e,i=e=>new Date(e).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"});return(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Choisissez votre date de d\xe9part"}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:t.map(e=>(0,r.jsx)("button",{onClick:()=>l(e),className:"p-3 border rounded-lg text-sm font-medium transition-all duration-200 ".concat(s===e?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 bg-white text-gray-700 hover:border-blue-300 hover:bg-blue-25"),children:i(e)},e))})]})}function c(e){let{onQuantityChange:t}=e,[s,i]=(0,l.useState)(1);return(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Nombre de voyageurs"}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("button",{onClick:()=>{if(s>1){let e=s-1;i(e),t(e)}},disabled:s<=1,className:"w-10 h-10 rounded-full border border-gray-300 flex items-center justify-center text-gray-600 hover:border-blue-500 hover:text-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),(0,r.jsx)("span",{className:"text-xl font-semibold min-w-[3rem] text-center",children:s}),(0,r.jsx)("button",{onClick:()=>{let e=s+1;i(e),t(e)},className:"w-10 h-10 rounded-full border border-gray-300 flex items-center justify-center text-gray-600 hover:border-blue-500 hover:text-blue-600",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]})]})}var u=s(2738);function x(e){let{travel:t,selectedDate:s,quantity:i=1,error:a,setError:n}=e,[d,o]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{(0,u.oC)()||(0,u.o2)({items:[],total:0})},[]),(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)("button",{className:"text-white text-lg font-bold px-6 py-3 rounded-md w-full transition-colors duration-200 ".concat(d?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 cursor-pointer"),onClick:()=>{if(!s)return void n("Veuillez s\xe9lectionner une date de d\xe9part");o(!0);let e={id:t.id,quantity:i,price:t.price,name:t.name,slug:t.slug,image:t.image,description:t.description,sku:t.sku,type:"travel",departureDate:s,destination:t.destination,duration:t.duration,difficulty:t.difficulty,category:t.category},r=(0,u.oC)(),l=r.items.findIndex(e=>e.id===t.id&&"travel"===e.type&&e.departureDate===s);-1!==l?r.items[l].quantity+=i:r.items.push(e),r.total=Number(r.items.reduce((e,t)=>e+t.price*t.quantity,0).toFixed(2)),(0,u.o2)(r),n(null),window.dispatchEvent(new CustomEvent("cartUpdated",{detail:r})),o(!1),n("✅ Voyage ajout\xe9 au panier !"),setTimeout(()=>n(null),3e3)},disabled:d,children:d?"Ajout en cours...":"R\xe9server ce voyage"}),a&&(0,r.jsx)("div",{className:"border px-4 py-3 rounded mt-4 ".concat(a.includes("✅")?"bg-green-100 border-green-400 text-green-700":"bg-red-100 border-red-400 text-red-700"),children:a})]})}function m(e){let{travel:t}=e,[s,u]=(0,l.useState)(null),[m,h]=(0,l.useState)(1),[g,p]=(0,l.useState)(null);return(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(i,{travel:t}),(0,r.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"This trip includes:"}),(0,r.jsx)("ul",{className:"space-y-2",children:t.includes.map((e,t)=>(0,r.jsxs)("li",{className:"flex items-center text-sm",children:[(0,r.jsx)("svg",{className:"w-4 h-4 text-green-600 mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e]},t))})]})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(a,{name:t.name}),(0,r.jsxs)("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),t.destination]}),(0,r.jsxs)("div",{className:"flex items-center text-sm text-gray-600 mb-4",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),t.duration]}),(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,r.jsx)("svg",{className:"w-5 h-5 ".concat(s<Math.floor(t.rating)?"text-yellow-400":"text-gray-300"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},s)),(0,r.jsxs)("span",{className:"text-sm text-gray-600 ml-2",children:[t.rating,"/5 (",t.reviewsCount," reviews)"]})]}),(0,r.jsx)("span",{className:"ml-4 px-3 py-1 rounded-full text-sm font-semibold ".concat("Easy"===t.difficulty?"bg-green-100 text-green-800":"Moderate"===t.difficulty?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:t.difficulty})]})]}),(0,r.jsx)(n,{description:t.description}),(0,r.jsx)(d,{price:t.price,originalPrice:t.originalPrice}),(0,r.jsx)("div",{className:"".concat(g?"border-2 border-red-500 rounded-lg p-4":""),children:(0,r.jsx)(o,{dates:t.departureDates,selectedDate:s,onDateSelect:u})}),(0,r.jsx)("div",{className:"pt-4",children:(0,r.jsx)(c,{onQuantityChange:h})}),(0,r.jsx)(x,{travel:t,selectedDate:s,quantity:m,error:g,setError:p})]})]})}},2738:(e,t,s)=>{"use strict";s.d(t,{o2:()=>i,oC:()=>l});let r="shopping_cart",l=()=>{let e=sessionStorage.getItem(r);return e?JSON.parse(e):{items:[],total:0}},i=e=>{sessionStorage.setItem(r,JSON.stringify(e))}},9078:(e,t,s)=>{Promise.resolve().then(s.bind(s,191))}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(9078)),_N_E=e.O()}]);