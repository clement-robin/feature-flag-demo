(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[0],{230:(e,t,s)=>{"use strict";s.d(t,{default:()=>h});var r=s(5155),n=s(2290),o=s(2115);function l(e){let{price:t,id:s,slug:l,name:i,selectedSize:a,selectedColor:c,quantity:d=1,error:u,image:m,description:x,sku:h,colors:b,sizes:p}=e,[g,j]=(0,o.useState)(null);return(0,o.useEffect)(()=>{(0,n.oC)()||(0,n.o2)({items:[],total:0})},[]),(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)("button",{className:"bg-black text-white text-lg font-bold px-4 py-2 rounded-md w-full cursor-pointer",onClick:()=>{if(!a||!c)return void j("Veuillez s\xe9lectionner une taille et une couleur");let e=(0,n.oC)(),r=e.items.findIndex(e=>e.id===s&&e.size===a&&e.color===c);-1!==r?e.items[r].quantity+=d:e.items.push({id:s,quantity:d,size:a,color:c,price:t,name:i,slug:l,image:m,description:x,sku:h,colors:b,sizes:p}),e.total=Number(e.items.reduce((e,t)=>e+t.price*t.quantity,0).toFixed(2)),(0,n.o2)(e),j(null),window.dispatchEvent(new CustomEvent("cartUpdated",{detail:e}))},children:"Ajouter au panier"}),g&&(0,r.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mt-4",children:g})]})}function i(e){let{color:t,isSelected:s,onClick:n}=e;return(0,r.jsx)("button",{className:"rounded-full w-8 h-8 cursor-pointer border-2 ".concat(s?"ring-1 ring-offset-1 ring-black":"border-gray-300 hover:border-gray-400"),style:{backgroundColor:t},onClick:n})}function a(e){let{colors:t,selectedColor:s,onColorSelect:n}=e;return(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("span",{children:"Colors"}),(0,r.jsx)("ul",{className:"flex gap-2 mt-2",children:t.map(e=>(0,r.jsx)(i,{color:e.hex,isSelected:e.name===s,onClick:()=>n(e.name)},e.name))})]})}function c(e){let{description:t}=e;return(0,r.jsx)("h2",{className:"text-sm text-gray-500 mt-6",children:t})}function d(e){let{name:t}=e;return(0,r.jsx)("h1",{className:"text-2xl font-bold ",children:t})}function u(e){let{price:t}=e;return(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsxs)("h3",{className:"text-2xl font-bold",children:[t," â‚¬"]})})}var m=s(6478);function x(e){let{sizes:t,selectedSize:s,onSizeSelect:n}=e,[l,i]=(0,o.useState)(!1);return(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("span",{children:"Size"}),(0,r.jsxs)("div",{className:"relative mt-2",children:[(0,r.jsxs)("button",{className:"flex items-center justify-between w-32 px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50",onClick:()=>i(!l),children:[(0,r.jsx)("span",{children:s||"Select size"}),(0,r.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(l?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),l&&(0,r.jsx)("div",{className:"absolute z-10 w-24 mt-1 bg-white border border-gray-300 rounded-md shadow-lg",children:t.map(e=>(0,r.jsx)("button",{className:"w-full px-3 py-2 text-left hover:bg-gray-100 ".concat(e===s?"bg-gray-100":""),onClick:()=>{n(e),i(!1)},children:e},e))})]})]})}function h(e){let{product:t}=e,[s,n]=(0,o.useState)(null),[i,h]=(0,o.useState)(null),[b,p]=(0,o.useState)(1),[g,j]=(0,o.useState)(null);return(0,r.jsxs)("div",{children:[(0,r.jsx)(d,{name:t.name}),(0,r.jsx)(c,{description:t.description}),(0,r.jsx)(u,{price:t.price}),(0,r.jsxs)("div",{className:"".concat(g?"border-2 border-red-500":""),children:[(0,r.jsx)(a,{colors:t.colors,selectedColor:i,onColorSelect:h}),(0,r.jsx)(x,{sizes:t.sizes,selectedSize:s,onSizeSelect:n})]}),(0,r.jsx)("div",{className:"pt-4",children:(0,r.jsx)(m.A,{onQuantityChange:p})}),(0,r.jsx)(l,{price:t.price,id:t.id,slug:t.slug,name:t.name,selectedSize:s,selectedColor:i,quantity:b,error:g,image:t.image,description:t.description,sku:t.sku,colors:t.colors,sizes:t.sizes})]})}},1243:(e,t,s)=>{Promise.resolve().then(s.bind(s,230)),Promise.resolve().then(s.t.bind(s,3063,23))},2290:(e,t,s)=>{"use strict";s.d(t,{o2:()=>o,oC:()=>n});let r="shopping_cart",n=()=>{let e=sessionStorage.getItem(r);return e?JSON.parse(e):{items:[],total:0}},o=e=>{sessionStorage.setItem(r,JSON.stringify(e))}},6478:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var r=s(5155),n=s(2115);function o(e){let{onQuantityChange:t,initialQuantity:s=1}=e,[o,l]=(0,n.useState)(s),[i,a]=(0,n.useState)(!1);(0,n.useEffect)(()=>{l(s)},[s]);let c=e=>{e>=1&&e<=5&&(l(e),t(e),a(!1))};return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{className:"flex items-center justify-between w-16 px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50",onClick:()=>a(!i),children:[(0,r.jsx)("span",{children:o}),(0,r.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(i?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i&&(0,r.jsx)("div",{className:"absolute z-10 w-24 mt-1 bg-white border border-gray-300 rounded-md shadow-lg",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,r.jsx)("button",{className:"w-full px-3 py-2 text-left hover:bg-gray-100 ".concat(o===t+1?"bg-gray-100":""),onClick:()=>c(t+1),children:t+1},t+1))})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[63,441,684,358],()=>t(1243)),_N_E=e.O()}]);